У меня есть бизнес-процессы, в которых действующую роль выполняет администратор.


# Сущности
$Clients__F -  
$Instaler__E -
Instaler__E

$ALLOWED_PORT -

$Client__FT -
$сlientAlias - "сlientAlias"
usersLoginPassFioMap




<!-- $UR_CLIENT_REG -
`/opt/texpert/Setup_Linux/Intranet.linux`

$UR_CLIENT_LOGIN_PASS -
$UR_CLIENT_LOGIN_DOMAIN  - -->


<!-- $PORT - номер порта на котором находиться, клиентское приложение
$MM__S - сайт почтового клиента или сайт мессенджера
$сlientAlias
$Client
$Client__F - папка на системе window 11, в которой храниться информации, об установленном на клиенте клиенских приложениях
$Client__FT
$Clients__F - папка на системе window 11, в которой храниться информации об установленных клиенских приложениях
```powershell
└───[$PORT]_[$сlientAlias]
    │   1754_445585_2535.reg
    │   artimpro.corpres.ru.txt
    │   copres_logo_200х200.png <- Статика для всех компаний
    │   service.xml
    │   Логины Артимпро.xlsx
    │
└───[$PORT]_[another $сlientAlias...]
    └───backup
            0927conf.db4
            0927ubase.db4
            0927udata.sqlite.zip
            utc....

``` -->

# В общих чертах:
<!-- !) В браузере, на сайте $MM *1, администратор получает информацию *2 о том какой бизнес-процесс он должен выполнить
  *1 На котором он должен быть авторизирован
  *2 В незначительно струткурированном виде, когда у одного бизнес процесса, может быть несколько псевдонимов -->


## Бизнес-процесс "Установка кодекс на сервер"
<!-- 1) В браузере, на сайте *1, получает информацию об $UR_CLIENT_REG и $UR_CLIENT_LOGIN_PASS *2, а так же получает информацию об регистрационном номере *3 и ссылках на ресурсы *4
  *1 На котором он должен быть авторизирован
  *2 Только именна пользователеей в кирилицу, которые необходимо конвертировать в латинице
  *3 Который имеет вид /[0-9]{4}_[0-9]{6}_[0-9]{4}/gm
  *4 Исходя из которых можно сгенерировать доменное имя -->
2) Переходит в $Clients__F
  2.1) Узнает, из $Clients__F
    2.1.1) Находит папку самым большим [#PORT] и запоминает её [#PORT] как значение в $ALLOWED_PORT
  2.2) Создает в папке $Clients__F новую папку копируя дочернию папку $Client__FT, изменяя её имя, так чтобы за место [#PORT] было значение $ALLOWED_PORT, а [#сlientAlias] значение $сlientAlias
    2.2.1) В созданой по шаблону $Client__FT папке изменяется файл-таблица `Логины[#сlientAlias].xlsx`, добавлением в него записей из $usersLoginPassFioMap
    2.2.2) В созданой по шаблону $Client__FT папке изменяется имя файла `Логины[#сlientAlias].xlsx` заменой строчки [#сlientAlias] любым из $сlientAlias

<!-- Установка на наш сервер -->
3) Подключается по ssh к удаленной машине
  3.1) Запускает по пути $Instaler__E скрипт и эмулирует ввода в консоль заполняя вопросы
    3.1.1) `Введите название системной группы управления приложением` нажимая Enter
    3.1.2) `Введите торговую марку приложения` вводя `texpert` и нажимая Enter
    3.1.3) `Введите номер ТСР-порта` вводя $ALLOWED_PORT нажимая Enter
    3.1.4) `Введите место установки приложения` вводя $INSTALL_PATH и нажимая Enter
    3.1.5) `Настроить подключение ключа Senselock Senselock? [yes]` нажимая Enter
    3.1.6) `Настроить и включить автозапуск интранет-сервера? [no]` нажимая Enter
    3.1.7) `Настроить и включить автозапуск интранет-сервера? [no]` нажимая Enter
  3.2) Ожидает завершения работы запущеного скрипта, Асинхроно
<!-- Запись в наш днс -->
<!-- ..... -->
<!-- Настройка через админ панель  -->
4) Через сайт, на котором
  - Если требуется внести пароль





















Dth









2) он получает по ssh доступ к удаленной машине, 2.1) выполняет на ней пару команд, выполнение которой необходимо подождать, а так же в выполнении одной из требуется ответов на вопросы в консоли,  2) После выполненных действий администратор заходит на страницу сайта, адрес которой он узнает на этапе 1.1,











1) Требуется проводить установки приложения кодекс




Я хочу попробовать автоматизировать процесс установки и сделать его максимально надежным.


У меня сейчас возник вопрос касаемо учета портов, доменных имен и логинов и для этого мне необходимо принять решение откуда я могу брать максимально достоверную информацию и куда её заносить?

Собственно мои рассуждения такие, что заносить информации можно в `Z:\Common\Файлообменник\Хрущев Владимир\Клиенты`, но брать из неё я не уверен что стоит, так как:
- номер порта и доменное имя стоит брать из конфиг файлов *(тех которые были доступны в isp manager), так как именно на них смотрит сервер отдающий клиентам веб мордочку и нам *(я подразумеваю `185.63.188.147:[CLIENT_PORT]/admin`),
- А логины и пароли приложение смотрит в папке `/users/` и файлах `ubase.db6` и `ulog.db6`



* В где лежит вся информация
* Напрямую в конфиги *(доступную )















































У меня есть shell скрипт который внутри себя запускает множество команд и после запуска выводит в консоль множество логов, отображает в консоли CUI и иногда через консоль задает пользователю вопросы, на которые необходимо отвечать.

Напиши мне скрипт, который бы группировал, фильтровал и взаимодействовал с этими выводами на основе карты. Таким образом чтобы:
*) Скрипт автоматически отвечал, однострочный вывод ожидающий ответа от пользователя ответ на вопрос вида: "Are you shoure installedit [yes]|[no]" или "Press [Enter] to continue or CtrC to close"
*)

Многострочный вывод в консоль, совпадающий со значениями в карте указывающими на ui интерфейс,



*) Простой вывод *(по сут-и логи), в файлы $HOME/myLogs/log_part-[0-9]
